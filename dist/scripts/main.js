var circles=[],canvas=document.getElementById("BingoCanvas"),canvasCtx=canvas.getContext("2d"),dataApp={},selectedWords=[],SpacesArray=[[90,280],[200,280],[300,280],[420,280],[520,280],[90,400],[200,400],[300,400],[420,400],[520,400],[90,500],[200,500],[420,500],[520,500],[90,620],[200,620],[300,620],[420,620],[520,620],[90,720],[200,720],[300,720],[420,720],[520,720]];window.Webappbackbone={init:function(){"use strict";$.ajax({url:"https://spreadsheets.google.com/feeds/list/1del7hEh2-3tEplcZuhqkeJ_X_y1TFVc52jA_cJf42O8/od6/public/basic?alt=json",dataType:"json",success:function(a){dataApp=a;var b=dataApp.feed.entry.length,c=SpacesArray.length,d=0;for(d=0;c>d;d++){var e=Math.floor(Math.random()*b);canvasCtx.font="14px Verdana",canvasCtx.fillStyle="#333",canvasCtx.textAlign="center";var f=dataApp.feed.entry[e].title.$t;selectedWords.push(f)}Webappbackbone.drawBoard()}})},drawBoard:function(){var a=new Image;a.addEventListener("load",function(){canvasCtx.drawImage(a,0,0);var b=(dataApp.feed.entry.length,SpacesArray.length),c=0;for(c=0;b>c;c++)canvasCtx.fillText(selectedWords[c],SpacesArray[c][0],SpacesArray[c][1],110);if(circles.length>0)for(c=0;c<circles.length;c++)canvasCtx.fill(circles[c],"nonzero"),canvasCtx.stroke(circles[c],"nonzero")},!1),a.src="images/bingo-board.svg"},Circle:function(a,b,c){var d=new Path2D;return d.arc(a,b,c,0,2*Math.PI),d},clickHandler:function(a){var b,c=$("#BingoCanvas")[0].getBoundingClientRect(),d=a.clientX-c.left,e=a.clientY-c.top,f=!1;for(b=circles.length-1;b>=0;--b)canvasCtx.isPointInPath(circles[b],d,e,"nonzero")&&(circles.splice(b,1),f=!0);f||circles.push(Webappbackbone.Circle(d,e,20)),console.log(circles),Webappbackbone.drawBoard()}},$(document).ready(function(){"use strict";Webappbackbone.init(),canvas.addEventListener("click",Webappbackbone.clickHandler,!1)});